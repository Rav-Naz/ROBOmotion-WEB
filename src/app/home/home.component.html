<div class="container">
    <!-- INTRO -->
    <section class="paralax paralax-background">
        <div class="paralax-name-container paralax-name-container-top">
            <h1 class="paralax-name paralax-name-top">
                ROBO<br>
                <span class="paralax-name-second">~motion 2021</span><br>
                <img src="../../assets/svg/klocki.svg" class="paralax-name-img paralax-name-img-top">
            </h1>
        </div>
        <div class="paralax-wave paralax-wave-yellow"></div>
        <div class="paralax-wave"></div>
    </section>
    <!-- DESCRIPTION -->
    <section class="event-info" id="home">
        <h3 class="section-header" *ngIf="timeToEvent">{{timeIsUp ? streamLink === undefined ? ('home.event-info.status.ended' | translate) : ('home.event-info.status.live' | translate) : ('home.event-info.status.coming' | translate)}}</h3>
        <div class="iframe-container" *ngIf="timeIsUp && streamLink !== undefined">
            <iframe [src]="streamLink" title="ROBO~motion Livestream" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <button [routerLink]="['/results']" *ngIf="timeIsUp">{{'home.event-info.results' | translate}}</button>
        <div class="event-info-counter" *ngIf="!timeIsUp && timeToEvent">
            <div class="event-info-counter-part">
                <p class="event-info-counter-part--number">
                    {{timeToEvent | msTransform: 'd'}}
                </p>
                <p class="event-info-counter-part--name">
                    {{'home.event-info.time.days' | translate}}
                </p>
            </div>
            <p class="event-info-counter-part--number event-info-counter-delimeter">
                :
            </p>
            <div class="event-info-counter-part">
                <p class="event-info-counter-part--number">
                    {{timeToEvent | msTransform: 'h'}}
                </p>
                <p class="event-info-counter-part--name">
                    {{'home.event-info.time.hours' | translate}}
                </p>
            </div>
            <p class="event-info-counter-part--number event-info-counter-delimeter">
                :
            </p>
            <div class="event-info-counter-part">
                <p class="event-info-counter-part--number">
                    {{timeToEvent | msTransform: 'm'}}
                </p>
                <p class="event-info-counter-part--name">
                    {{'home.event-info.time.minutes' | translate}}
                </p>
            </div>
            <p class="event-info-counter-part--number event-info-counter-delimeter">
                :
            </p>
            <div class="event-info-counter-part">
                <p class="event-info-counter-part--number">
                    {{timeToEvent | msTransform: 's'}}
                </p>
                <p class="event-info-counter-part--name">
                    {{'home.event-info.time.seconds' | translate}}
                </p>
            </div>
        </div>
        <div class="event-info-details">
            <div class="event-info-details-name">
                <h1 class="paralax-name">
                    ROBO<span class="paralax-name-second event-info-details-name-a">~motion 2021</span>
                </h1>
                <h3 class="event-info-details-name-date">
                    <span class="event-info-details-name-date-big">27.11.2021</span> - {{'home.event-info.university.hall' | translate}}
                    <br> {{'home.event-info.university.name' | translate}}
                </h3>
            </div>
            <div class="event-info-details-description">
                <p>
                    {{'home.event-info.details' | translate}}
                </p>
            </div>
        </div>
        <p>{{'home.event-info.open' | translate}}</p>
    </section>
    <section class="event-program" id="programme">
        <div class="event-program-grid" *ngIf="!isMobile">
            <div class="event-program-grid-names">
                <div *ngFor="let event of eventsList" (click)="onSwitchEvent(event.id)" class="event-program-grid-names-arrow" [ngClass]="{'event-program-grid-names-arrow-disabled': selectedEventIndex != event.id}">
                    {{event.name}}
                </div>
            </div>
            <div class="event-program-grid-description" [@switch]="switchAnimationStateName">
                <div class="event-program-grid-description-header">
                    <i class="las" [ngClass]=iconOfSelectedEvent></i>
                </div>
                <p>
                    {{descriptionOfSelectedEvent}}
                </p>
            </div>
        </div>
        <div class="event-program-grid event-program-grid-mobile" *ngIf="isMobile">
            <div class="event-program-grid-mobile-names">
                <button (click)="onSwitchEvent(selectedEventIndex - 1)"><</button>
                <p>{{nameOfSelectedEvent}}</p>
                <button (click)="onSwitchEvent(selectedEventIndex + 1)">></button>
            </div>
            <div class="event-program-grid-description" [@switch]="switchAnimationStateName">
                <div class="event-program-grid-description-header">
                    <i class="las" [ngClass]=iconOfSelectedEvent></i>
                </div>
                <p>{{descriptionOfSelectedEvent}}</p>
            </div>
        </div>
    </section>
    <!-- COMPETITIONS -->
    <section class="competitions" id="competitions">
        <h3 class="section-header">{{'home.competitions.title' | translate}}</h3>
        <div class="competitions-grid" id="competitions-scroll">
            <div class="competitions-grid-card-container" *ngFor="let category of categories; index as i;" (mouseenter)="pauseScrolling(true)" (mouseleave)="pauseScrolling(false)" (scroll)="pauseScrolling(false)">
                <div class="competitions-grid-card">
                    <div class="competitions-grid-card-style competitions-grid-card--front">
                        <img [src]="'../../assets/gifs/' + category.icon" class="competitions-grid-card--front-img" [id]="'comp-'+i">
                        <!-- <video class="competitions-grid-card--front-img" [id]="'comp-'+i" preload="auto" autoplay muted loop>
                            <source [src]="'../../assets/mp4/' + category.icon" type="video/mp4">
                            <source [src]="'../../assets/webm/' + category.icon" type="video/webm">
                        </video> -->
                        <label>{{category.name}}</label>
                        <button (click)="flipCard($event, 'back')">{{'home.competitions.learn' | translate}}</button>
                    </div>
                    <div class="competitions-grid-card-style competitions-grid-card--back">
                        <button (click)="flipCard($event, 'front')">X</button>
                        <p>{{category.description}}</p>
                        <span (click)="openUrl(category.linkToRegulation)">
                          {{'home.competitions.regulations' | translate}}
                        <i class="las la-file-alt"></i>                      </span>
                        <span *ngIf="category.id === 4" (click)="openUrl('https://bit.ly/robomotion21dr')">
                          DRAG {{'home.competitions.regulations' | translate}}
                        <i class="las la-file-alt"></i>                      </span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- LOCATION -->
    <section class="location paralax" id="location">
        <div class="location-wave location-wave-yellow"></div>
        <div class="location-wave"></div>
        <div class="location-grid">
            <img src="../../assets/svg/location.svg">
            <div class="location-grid-right">
                <h3 class="section-header">{{'home.location.title' | translate}}</h3>
                <h2>
                    {{'home.event-info.university.hall' | translate}} <br>
                    <span>{{'home.event-info.university.name' | translate}}</span><br> Poznańska 2a, <b>b. Ł</b>,<br> 35-959 Rzeszów
                </h2>
                <button (click)="openUrl('https://www.google.pl/maps/place/Pozna%C5%84ska+2a,+35-959+Rzesz%C3%B3w/@50.0183684,21.9778566,743m/data=!3m2!1e3!4b1!4m5!3m4!1s0x473cfbb694b5d4cf:0x92a58d80f703df60!8m2!3d50.018365!4d21.9800453')">{{'home.location.showOnMap' | translate}}
                  <i class="las la-map-marked-alt"></i>
                </button>
            </div>
        </div>
    </section>
    <!-- PATREONS -->
    <section class="organizer" id="patreons">
        <div>
            <h3 class="section-header">{{'home.patreons.organizer.title' | translate}}</h3>
            <span>{{'home.patreons.organizer.name' | translate}}</span>
            <img src="../../assets/svg/robo_white.svg">
            <div class="organizer-social">
                <p (click)="openUrl('https://www.facebook.com/rzeszowska.grupa.it')" class="organizer-social-item organizer-social-item--fb"><i class="lab la-facebook-f"></i></p>
                <p (click)="openUrl('https://www.instagram.com/rzeszowskagrupait/')" class="organizer-social-item organizer-social-item--ig"><i class="lab la-instagram"></i></p>
                <p (click)="openUrl('https://rzit.pl/')" class="organizer-social-item organizer-social-item--web"><i class="las la-globe-europe"></i></p>
            </div>
        </div>
    </section>
    <section class="patreons">
        <h3 class="section-header">{{'home.patreons.title' | translate}}</h3>
        <ng-container *ngFor="let name of patreonNames; let i = index">
            <p class="patreons-name">{{name}}</p>
            <div class="patreons-class-container">
                <div class="patreons-one" *ngFor="let patreon of getAllPatreonsWithIndex(i)" (click)="openUrl(patreon.linkToSite)">
                    <img [src]="patreon.image">
                    <p>{{patreon.description}}</p>
                </div>
            </div>
        </ng-container>
        <p>{{'home.patreons.question' | translate}}</p>
    </section>
    <!-- FOOTER -->
    <section class="footer">
        <h1 class="paralax-name footer-name">
            ROBO<br>
            <span class="paralax-name-second footer-name-second">~motion 2021</span><br>
            <img src="../../assets/svg/klocki.svg" class="paralax-name-img footer-name-img">
        </h1>
        <!-- <a></a> -->
        <p>
            {{'home.footer.copyright' | translate}} © {{eventDate?.getFullYear()}} - Rzeszowska Grupa IT | {{'home.footer.designed' | translate}} <span>{{'home.footer.developer' | translate}}</span>
        </p>
    </section>
</div>